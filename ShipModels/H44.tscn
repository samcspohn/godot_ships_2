[gd_scene load_steps=23 format=3 uid="uid://744qchvory0k"]

[ext_resource type="PackedScene" uid="uid://dledjetx004o1" path="res://ShipModels/H44.glb" id="1_h0h40"]
[ext_resource type="PackedScene" uid="uid://5qbpr6jjvoj6" path="res://modules.tscn" id="2_wne81"]
[ext_resource type="Script" uid="uid://f5a1lbtgbbk7" path="res://src/artillary/Guns/gun_params.gd" id="3_osjim"]
[ext_resource type="Script" uid="uid://d0r4vucnli08f" path="res://src/artillary/Shells/shell_params.gd" id="4_ai21t"]
[ext_resource type="Script" uid="uid://dytt41ol6shn4" path="res://src/artillary/sec_sub_controller.gd" id="5_i4u0w"]
[ext_resource type="Script" uid="uid://dnb0sat2lxj21" path="res://src/Consumable/consumable_item.gd" id="6_a20ud"]
[ext_resource type="PackedScene" uid="uid://31jgnxcyvi22" path="res://turrets/GER_500mm_2b_rf.tscn" id="9_gdlp2"]
[ext_resource type="Resource" uid="uid://cmt02tuklbcpb" path="res://src/Consumable/RepairParty.tres" id="9_nfp68"]
[ext_resource type="Resource" uid="uid://cj43pm5o6aibf" path="res://src/Consumable/DamageControl.tres" id="10_5talp"]
[ext_resource type="Script" uid="uid://dr60dh6rgv4fp" path="res://src/Fire/fire_params.gd" id="11_5talp"]
[ext_resource type="Script" uid="uid://dr7ents37sxlk" path="res://src/ship/Upgrades/upgrade.gd" id="12_gc5ee"]
[ext_resource type="PackedScene" uid="uid://cyw7ae75lhjui" path="res://turrets/GER_150mm_2b_gerat60.tscn" id="14_nfp68"]
[ext_resource type="Material" uid="uid://dp22xlndafmvq" path="res://ShipModels/Armor_viewer_material.tres" id="15_pnxfl"]
[ext_resource type="PackedScene" uid="uid://be3y5hstfsrig" path="res://src/Fire/Fire.tscn" id="16_nfp68"]

[sub_resource type="Resource" id="Resource_apgp6"]
script = ExtResource("4_ai21t")
speed = 810.0
drag = 0.008
damage = 20000.0
size = 5.0
caliber = 500.0
mass = 1850.0
overmatch = 35
arming_threshold = 83
metadata/_custom_type_script = "uid://d0r4vucnli08f"

[sub_resource type="Resource" id="Resource_uu5mp"]
resource_local_to_scene = true
script = ExtResource("4_ai21t")
speed = 810.0
drag = 0.008
damage = 5700.0
size = 5.0
caliber = 500.0
mass = 1850.0
fire_buildup = 25.0
fuze_delay = 0.001
type = 0
overmatch = 125
metadata/_custom_type_script = "uid://d0r4vucnli08f"

[sub_resource type="Resource" id="Resource_pnxfl"]
resource_local_to_scene = true
script = ExtResource("3_osjim")
reload_time = 2.0
traverse_speed = 40.0
elevation_speed = 40.0
_range = 15500.0
shell1 = SubResource("Resource_apgp6")
shell2 = SubResource("Resource_uu5mp")
metadata/_custom_type_script = "uid://f5a1lbtgbbk7"

[sub_resource type="Resource" id="Resource_5talp"]
resource_local_to_scene = true
script = ExtResource("4_ai21t")
speed = 12000.0
drag = 0.037
damage = 3500.0
size = 2.25
caliber = 150.0
mass = 42.0
auto_bounce = 1.0472
ricochet_angle = 0.785398
overmatch = 10
arming_threshold = 25

[sub_resource type="Resource" id="Resource_mddhe"]
resource_local_to_scene = true
script = ExtResource("4_ai21t")
speed = 1200.0
drag = 0.037
damage = 1100.0
size = 2.25
caliber = 150.0
mass = 42.0
fire_buildup = 5.0
fuze_delay = 0.001
type = 0
auto_bounce = 1.571
ricochet_angle = 0.785398
overmatch = 38
metadata/_custom_type_script = "uid://d0r4vucnli08f"

[sub_resource type="Resource" id="Resource_mntgu"]
resource_local_to_scene = true
script = ExtResource("3_osjim")
reload_time = 5.5
traverse_speed = 50.0
elevation_speed = 50.0
_range = 5750.0
shell1 = SubResource("Resource_5talp")
shell2 = SubResource("Resource_mddhe")
h_grouping = 1.0
v_grouping = 1.0
base_spread = 0.06
metadata/_custom_type_script = "uid://f5a1lbtgbbk7"

[sub_resource type="Resource" id="Resource_gc5ee"]
resource_local_to_scene = true
script = ExtResource("11_5talp")
dmg_rate = 0.002
dur = 50.0
max_buildup = 220.0
metadata/_custom_type_script = "uid://dr60dh6rgv4fp"

[sub_resource type="BoxShape3D" id="BoxShape3D_gc5ee"]
margin = 0.0
size = Vector3(52.79883, 48.434837, 360.296)

[node name="ship" instance=ExtResource("1_h0h40")]
initialized = true
ship_model_glb_path = "uid://dledjetx004o1"
process_priority = -1
collision_layer = 4
collision_mask = 5

[node name="Modules" parent="." index="0" instance=ExtResource("2_wne81")]

[node name="HPManager" parent="Modules" index="0"]
max_hp = 155100.0

[node name="ArtilleryController" parent="Modules" index="1" node_paths=PackedStringArray("guns")]
params = SubResource("Resource_pnxfl")
guns = [NodePath("../../Hull/TurretMount_GER_500mm_2b_rf/GER_500mm_2b_rf"), NodePath("../../Hull/TurretMount_GER_500mm_2b_rf_002/GER_500mm_2b_rf_002"), NodePath("../../Hull/TurretMount_GER_500mm_2b_rf_003/GER_500mm_2b_rf_003"), NodePath("../../Hull/TurretMount_GER_500mm_2b_rf_001/GER_500mm_2b_rf_001")]

[node name="MovementController" parent="Modules" index="2"]
max_speed = 100.0
acceleration_time = 30.0
deceleration_time = 30.0
reverse_speed_ratio = 0.5
turning_circle_radius = 800.0
rudder_response_time = 10.0

[node name="SecondaryController" parent="Modules" index="3" node_paths=PackedStringArray("sub_controllers")]
sub_controllers = [NodePath("SecSubController")]

[node name="SecSubController" type="Node" parent="Modules/SecondaryController" index="0" node_paths=PackedStringArray("guns")]
script = ExtResource("5_i4u0w")
p = SubResource("Resource_mntgu")
guns = [NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerrat60/GER_150mm_2b_gerrat60"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_001/GER_150mm_2b_gerat60_001"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_006/GER_150mm_2b_gerat60_006"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_002/GER_150mm_2b_gerat60_002"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_010/GER_150mm_2b_gerat60_010"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_012/GER_150mm_2b_gerat60_012"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_003/GER_150mm_2b_gerat60_003"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_007/GER_150mm_2b_gerat60_007"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_004/GER_150mm_2b_gerat60_004"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_008/GER_150mm_2b_gerat60_008"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_011/GER_150mm_2b_gerat60_011"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_013/GER_150mm_2b_gerat60_013"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_005/GER_150mm_2b_gerat60_005"), NodePath("../../../Hull/TurretMount_GER_150mm_2b_gerat60_009/GER_150mm_2b_gerat60_009")]
metadata/_custom_type_script = "uid://dytt41ol6shn4"

[node name="ConsumableManager" parent="Modules" index="4"]
equipped_consumables = Array[ExtResource("6_a20ud")]([ExtResource("10_5talp"), ExtResource("9_nfp68")])

[node name="FireManager" parent="Modules" index="5" node_paths=PackedStringArray("fires")]
params = SubResource("Resource_gc5ee")
fires = [NodePath("../../fires/Fire"), NodePath("../../fires/Fire2"), NodePath("../../fires/Fire3"), NodePath("../../fires/Fire4")]

[node name="Upgrades" parent="Modules" index="6"]
upgrades = Array[ExtResource("12_gc5ee")]([null, null, null])

[node name="fires" type="Node3D" parent="." index="1"]

[node name="Fire" parent="fires" index="0" instance=ExtResource("16_nfp68")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.876056, -102.259605)

[node name="Fire2" parent="fires" index="1" instance=ExtResource("16_nfp68")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 19.97113, -14.608513)

[node name="Fire3" parent="fires" index="2" instance=ExtResource("16_nfp68")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 13.68392, 43.45572)

[node name="Fire4" parent="fires" index="3" instance=ExtResource("16_nfp68")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.3967123, 125.0045)

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.055368304, 24.202316, -1.9565125)
visible = false
shape = SubResource("BoxShape3D_gc5ee")

[node name="500mmBarbette_col" parent="Hull" index="18"]
layers = 0
material_override = ExtResource("15_pnxfl")

[node name="500mmBarbette_col_001" parent="Hull" index="19"]
layers = 0
material_override = ExtResource("15_pnxfl")

[node name="500mmBarbette_col_002" parent="Hull" index="20"]
layers = 0
material_override = ExtResource("15_pnxfl")

[node name="500mmBarbette_col_003" parent="Hull" index="21"]
layers = 0
material_override = ExtResource("15_pnxfl")

[node name="Superstructure_col" parent="Hull" index="48"]
layers = 0
surface_material_override/0 = ExtResource("15_pnxfl")

[node name="GER_150mm_2b_gerat60_001" parent="Hull/TurretMount_GER_150mm_2b_gerat60_001" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 0.0
max_rotation_angle = 2.7317047340151284
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_002" parent="Hull/TurretMount_GER_150mm_2b_gerat60_002" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 3.329175703037788
max_rotation_angle = 0.0
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_003" parent="Hull/TurretMount_GER_150mm_2b_gerat60_003" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 3.5971638897097664
max_rotation_angle = 6.06449478533597
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_004" parent="Hull/TurretMount_GER_150mm_2b_gerat60_004" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 3.5604716740684323
max_rotation_angle = 5.846852994181004
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_005" parent="Hull/TurretMount_GER_150mm_2b_gerat60_005" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 3.1590459461097367
max_rotation_angle = 5.97176069467047
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_006" parent="Hull/TurretMount_GER_150mm_2b_gerat60_006" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 6.256198206425091
max_rotation_angle = 2.9572237882480756
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_007" parent="Hull/TurretMount_GER_150mm_2b_gerat60_007" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 0.22377577895065315
max_rotation_angle = 2.671751901963866
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_008" parent="Hull/TurretMount_GER_150mm_2b_gerat60_008" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 0.4363323129985824
max_rotation_angle = 2.722713633111154
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_009" parent="Hull/TurretMount_GER_150mm_2b_gerat60_009" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 0.3376336775548907
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_010" parent="Hull/TurretMount_GER_150mm_2b_gerat60_010" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 3.5081117965086026
max_rotation_angle = 0.0
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_011" parent="Hull/TurretMount_GER_150mm_2b_gerat60_011" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 3.1840767835667263
max_rotation_angle = 6.18231848154694
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_012" parent="Hull/TurretMount_GER_150mm_2b_gerat60_012" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 0.03356267067948515
max_rotation_angle = 2.7663898841263332
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerat60_013" parent="Hull/TurretMount_GER_150mm_2b_gerat60_013" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 0.13962634015954636
max_rotation_angle = 3.0892327760299634
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_150mm_2b_gerrat60" parent="Hull/TurretMount_GER_150mm_2b_gerrat60" index="0" node_paths=PackedStringArray("barrel") instance=ExtResource("14_nfp68")]
min_rotation_angle = 3.490658503988659
max_rotation_angle = 0.0
barrel = NodePath("150mmTurret_001/Cylinder_001")

[node name="GER_500mm_2b_rf" parent="Hull/TurretMount_GER_500mm_2b_rf" index="0" instance=ExtResource("9_gdlp2")]
min_rotation_angle = 3.6302848441482056
max_rotation_angle = 2.705260340591211

[node name="GER_500mm_2b_rf_001" parent="Hull/TurretMount_GER_500mm_2b_rf_001" index="0" instance=ExtResource("9_gdlp2")]
min_rotation_angle = 0.5934119456780721
max_rotation_angle = 5.689773361501515

[node name="GER_500mm_2b_rf_002" parent="Hull/TurretMount_GER_500mm_2b_rf_002" index="0" instance=ExtResource("9_gdlp2")]
min_rotation_angle = 3.6826447217080354
max_rotation_angle = 2.6179938779914944

[node name="GER_500mm_2b_rf_003" parent="Hull/TurretMount_GER_500mm_2b_rf_003" index="0" instance=ExtResource("9_gdlp2")]
min_rotation_angle = 0.5235987755982988
max_rotation_angle = 5.759586531581287

[node name="Hull_col" parent="." index="10"]
visible = false
layers = 0
material_override = ExtResource("15_pnxfl")

[node name="Hull_Citadel_col" parent="." index="11"]
layers = 0
material_override = ExtResource("15_pnxfl")

[editable path="Modules"]
